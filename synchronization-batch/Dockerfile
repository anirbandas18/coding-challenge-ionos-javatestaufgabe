FROM adoptopenjdk:11-jre-hotspot-focal
MAINTAINER Anirban Das <anirbandas18@live.com>
RUN mkdir ~p -p /opt/ionos-javatestaufgabe-s3export/s3export-synchronization-batch
COPY target/*.jar /opt/ionos-javatestaufgabe-s3export/s3export-synchronization-batch/synchronization-app.jar
EXPOSE 8001
CMD ["java", "-jar",
"-DSPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}",
"-DLOGBACK_LOGGING_LEVEL=${LOGBACK_LOGGING_LEVEL}",
"-DSPRING_CLOUD_CONFIG_ENABLED=${SPRING_CLOUD_CONFIG_ENABLED}",
"-DLOGSTASH_HOST=${LOGSTASH_HOST}",
"-DLOGSTASH_PORT=${LOGSTASH_PORT}",
"-DSPRING_CLOUD_CONFIG_HOST=${SPRING_CLOUD_CONFIG_HOST}",
"-DSPRING_CLOUD_CONFIG_PORT=${SPRING_CLOUD_CONFIG_PORT}",
"-DSYNC_LOGGING_LEVEL=${SYNC_LOGGING_LEVEL}",
"-DSYNC_SHOW_SQL=${SYNC_SHOW_SQL}",
"-DSYNC_SQL_COMMENTS=${SYNC_SQL_COMMENTS}",
"-DSYNC_FORMAT_SQL=${SYNC_FORMAT_SQL}",
"-DSYNC_DATABASE_HOST=${SYNC_DATABASE_HOST}",
"-DSYNC_DATABASE_PORT=${SYNC_DATABASE_PORT}",
"-DSYNC_EUERKA_HOST=${SYNC_EUERKA_HOST}",
"-DSYNC_EUREKA_PORT=${SYNC_EUREKA_PORT}",
"-DSYNC_ZIPKIN_HOST=${SYNC_ZIPKIN_HOST}",
"-DSYNC_ZIPKIN_PORT=${SYNC_ZIPKIN_PORT}",
"-DSYNC_GATEWAY_HOST=${SYNC_GATEWAY_HOST}",
"-DSYNC_GATEWAY_PORT=${SYNC_GATEWAY_PORT}",
"-DSYNC_CACHE_HOST=${SYNC_CACHE_HOST}",
"-DSYNC_CACHE_PORT=${SYNC_CACHE_PORT}",
"-DSYNC_OBJECT_STORE_HOST=${SYNC_OBJECT_STORE_HOST}",
"-DSYNC_OBJECT_STORE_PORT=${SYNC_OBJECT_STORE_PORT}",
"-DSYNC_JOB_CRON=\"${SYNC_JOB_CRON}\"",
"/opt/ionos-javatestaufgabe-s3export/s3export-synchronization-batch/synchronization-app.jar"]